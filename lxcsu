#!/usr/bin/python

import os
import sys

from argparse import ArgumentParser
LXCSU_INTERNAL='/usr/sbin/lxcsu-internal'

def main ():
    parser = ArgumentParser()
    parser.add_argument ("slice_name")
    parser.add_argument ("command_to_run",nargs="*")

    options = parser.parse_args()
    slice_name=options.slice_name
    commands = options.command_to_run
    if (not commands):
        commands = ['/bin/sh']


    exec_args = [LXCSU_INTERNAL,slice_name,'--']
    exec_args+=commands
    os.execv(LXCSU_INTERNAL,exec_args)

if __name__ == '__main__':
    main()
